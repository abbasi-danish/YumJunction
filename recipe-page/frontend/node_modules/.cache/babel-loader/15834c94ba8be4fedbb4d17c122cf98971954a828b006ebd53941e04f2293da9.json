{"ast":null,"code":"var _jsxFileName = \"/Users/danishabbasi/Desktop/COSI103A-Project/new-cosi103a/cosi-103a/recipe-page/frontend/src/components/AddRecipeForm/AddRecipeForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddRecipeForm() {\n  _s();\n  const [recipeJson, setRecipeJson] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const submitRecipe = async () => {\n    setErrorMessage('');\n    let recipe;\n    try {\n      recipe = JSON.parse(recipeJson);\n    } catch (error) {\n      setErrorMessage('Malformed JSON');\n      return;\n    }\n    if (!recipe.title || !recipe.ingredients || !recipe.directions) {\n      setErrorMessage('Missing required fields');\n      return;\n    }\n    axios.post('http://localhost:3001/api/userRecipes', recipe).then(response => {\n      console.log('Recipe added:', response.data);\n      setRecipeJson(''); // clear the form\n    }).catch(error => {\n      console.error('Error adding recipe:', error.response ? error.response.data : error);\n      console.error('Error adding recipe:', error);\n      setErrorMessage('Failed to add recipe');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: recipeJson,\n      onChange: e => setRecipeJson(e.target.value),\n      placeholder: \"{\\\"title\\\": \\\"\\\", \\\"description\\\": \\\"\\\", \\\"ingredients\\\": \\\"\\\", \\\"directions\\\": \\\"\\\"}\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submitRecipe,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n_s(AddRecipeForm, \"onuJKxXMOZNWy5fnlw2zbx2Hjcw=\");\n_c = AddRecipeForm;\nexport default AddRecipeForm;\nvar _c;\n$RefreshReg$(_c, \"AddRecipeForm\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","AddRecipeForm","_s","recipeJson","setRecipeJson","errorMessage","setErrorMessage","submitRecipe","recipe","JSON","parse","error","title","ingredients","directions","post","then","response","console","log","data","catch","children","value","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/danishabbasi/Desktop/COSI103A-Project/new-cosi103a/cosi-103a/recipe-page/frontend/src/components/AddRecipeForm/AddRecipeForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction AddRecipeForm() {\n    const [recipeJson, setRecipeJson] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const submitRecipe = async () => {\n        setErrorMessage('');\n        let recipe;\n        try {\n            recipe = JSON.parse(recipeJson);\n        } catch (error) {\n            setErrorMessage('Malformed JSON');\n            return;\n        }\n        if (!recipe.title || !recipe.ingredients || !recipe.directions) {\n            setErrorMessage('Missing required fields');\n            return;\n        }\n        axios.post('http://localhost:3001/api/userRecipes', recipe)\n        .then(response => {\n            console.log('Recipe added:', response.data);\n            setRecipeJson(''); // clear the form\n        })\n        .catch(error => {\n            console.error('Error adding recipe:', error.response ? error.response.data : error);\n            console.error('Error adding recipe:', error);\n            setErrorMessage('Failed to add recipe');\n        });\n    };\n\n    return (\n        <div>\n            <textarea \n            value={recipeJson} \n            onChange={e => \n            setRecipeJson(e.target.value)}\n            placeholder='{\"title\": \"\", \"description\": \"\", \"ingredients\": \"\", \"directions\": \"\"}' \n            />\n            <button onClick={submitRecipe}>Submit</button>\n            {errorMessage && <div>{errorMessage}</div>}\n        </div>\n    );\n}\n\nexport default AddRecipeForm;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACQ,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMU,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7BD,eAAe,CAAC,EAAE,CAAC;IACnB,IAAIE,MAAM;IACV,IAAI;MACAA,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACP,UAAU,CAAC;IACnC,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZL,eAAe,CAAC,gBAAgB,CAAC;MACjC;IACJ;IACA,IAAI,CAACE,MAAM,CAACI,KAAK,IAAI,CAACJ,MAAM,CAACK,WAAW,IAAI,CAACL,MAAM,CAACM,UAAU,EAAE;MAC5DR,eAAe,CAAC,yBAAyB,CAAC;MAC1C;IACJ;IACAR,KAAK,CAACiB,IAAI,CAAC,uCAAuC,EAAEP,MAAM,CAAC,CAC1DQ,IAAI,CAACC,QAAQ,IAAI;MACdC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,QAAQ,CAACG,IAAI,CAAC;MAC3ChB,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC,CACDiB,KAAK,CAACV,KAAK,IAAI;MACZO,OAAO,CAACP,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAACM,QAAQ,GAAGN,KAAK,CAACM,QAAQ,CAACG,IAAI,GAAGT,KAAK,CAAC;MACnFO,OAAO,CAACP,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CL,eAAe,CAAC,sBAAsB,CAAC;IAC3C,CAAC,CAAC;EACN,CAAC;EAED,oBACIN,OAAA;IAAAsB,QAAA,gBACItB,OAAA;MACAuB,KAAK,EAAEpB,UAAW;MAClBqB,QAAQ,EAAEC,CAAC,IACXrB,aAAa,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC9BI,WAAW,EAAC;IAAuE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClF,CAAC,eACF/B,OAAA;MAAQgC,OAAO,EAAEzB,YAAa;MAAAe,QAAA,EAAC;IAAM;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAC7C1B,YAAY,iBAAIL,OAAA;MAAAsB,QAAA,EAAMjB;IAAY;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzC,CAAC;AAEd;AAAC7B,EAAA,CAzCQD,aAAa;AAAAgC,EAAA,GAAbhC,aAAa;AA2CtB,eAAeA,aAAa;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}